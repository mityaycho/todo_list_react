(this["webpackJsonp01-todolist"]=this["webpackJsonp01-todolist"]||[]).push([[0],{30:function(t,e,n){t.exports=n(58)},35:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(12),s=n.n(i),r=(n(35),n(2)),c=n(13),l=n(4),u=n(3),d=n(5),p=(n(8),function(t){return o.a.createElement("button",{className:t.className,onClick:t.onClick},t.title)}),f=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:n.props.task.title},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeStatus(n.props.task.id,e)},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.props.changeTitle(n.props.task.id,n.state.title),n.setState({editMode:!1})},n.onDeleteTask=function(){n.props.deleteTask(n.props.task.id)},n.render=function(){var t=2===n.props.task.status?"done":"undone",e="";switch(n.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="High";break;case 3:e="Urgently";break;case 4:e="Later";break;default:e="Low"}return o.a.createElement("section",{className:t},o.a.createElement("div",{className:"task-title"},o.a.createElement("h2",null,t),o.a.createElement(p,{className:"universe-button",title:"delete",onClick:n.onDeleteTask})),o.a.createElement("label",{className:"task-container"},o.a.createElement("span",null,o.a.createElement("input",{className:"task-checkbox",type:"checkbox",checked:n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?o.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,autoFocus:!0,value:n.state.title}):o.a.createElement("span",{className:"task",onDoubleClick:n.activateEditMode},n.props.task.title)),"priority: ",e))},n}return Object(d.a)(e,t),e}(o.a.Component),m=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=n.props.tasks.map((function(t){return o.a.createElement(f,{key:t.id,task:t,changeStatus:n.props.changeStatus,changeTitle:n.props.changeTitle,deleteTask:n.props.deleteTask})}));return o.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(d.a)(e,t),e}(o.a.Component),k=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},n.onAllFilterClick=function(){return n.props.changeFilter("All")},n.onCompletedFilterClick=function(){return n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){return n.props.changeFilter("Active")},n.onShowFiltersClick=function(){return n.setState({isHidden:!0})},n.onHideFiltersClick=function(){return n.setState({isHidden:!1})},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"universe-button",e="Completed"===n.props.filterValue?"filter-active":"universe-button",a="Active"===n.props.filterValue?"filter-active":"universe-button";return o.a.createElement("div",{className:"filter-container"},o.a.createElement("div",{className:"todoList-filter"},!n.state.isHidden&&o.a.createElement("div",{className:"buttons-filter"},o.a.createElement(p,{className:t,title:"All",onClick:n.onAllFilterClick}),o.a.createElement(p,{className:e,title:"Completed",onClick:n.onCompletedFilterClick}),o.a.createElement(p,{className:a,title:"Active",onClick:n.onActiveFilterClick})),!n.state.isHidden&&o.a.createElement("span",{className:"universe-button show-btn",onClick:n.onShowFiltersClick},"hide"),n.state.isHidden&&o.a.createElement("span",{className:"universe-button show-btn",onClick:n.onHideFiltersClick},"show")))},n}return Object(d.a)(e,t),e}(o.a.Component),h=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:n.props.title},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.props.updateTitle(n.state.title)},n.activateEditMode=function(){n.setState({editMode:!0})},n.render=function(){return o.a.createElement(o.a.Fragment,null,n.state.editMode?o.a.createElement("input",{value:n.state.title,autoFocus:!0,onBlur:n.deactivateEditMode,onChange:n.onTitleChanged}):o.a.createElement("h1",{className:"todoList-header__title",onClick:n.activateEditMode},n.props.title,o.a.createElement(p,{className:"universe-button",title:"delete",onClick:n.props.onDelete})))},n}return Object(d.a)(e,t),e}(o.a.Component),T=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t?n.setState({error:!0}):(n.setState({error:!1}),n.props.addItem(t))},n.onTitleChanged=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onKeyPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"input";return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{className:t,type:"text",placeholder:n.props.placeholder,onChange:n.onTitleChanged,onKeyPress:n.onKeyPress,value:n.state.title}),o.a.createElement(p,{className:"universe-button",title:"add",onClick:n.onAddItemClick}))},n}return Object(d.a)(e,t),e}(o.a.Component),v=n(10),b=n(17),E=n(1),O=n(28),g=n.n(O).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/todo-lists",withCredentials:!0,headers:{"API-KEY":"5ac078f7-4935-4223-bad6-63f58b80cd23"}}),j=function(t,e){return g.post("/".concat(e,"/tasks"),{title:t})},C=function(t){return g.post("",{title:t})},S=function(){return g.get("")},y=function(t){return g.put("/tasks",t)},I=function(t){return g.delete("/"+t)},w=function(t){return g.delete("/tasks/".concat(t))},A=function(t){return g.get("/".concat(t,"/tasks"))},N=function(t,e){return g.put("/".concat(e),{title:t})},L="TodoList/Reducer/ADD-TODOLIST",D="TodoList/Reducer/DELETE-TODOLIST",F="TodoList/Reducer/DELETE-TASK",M="TodoList/Reducer/ADD-TASK",R="TodoList/Reducer/SET_TASKS",V="TodoList/Reducer/UPDATE-TASK",H="TodoList/Reducer/SET_TODOLISTS",K={todolists:[]},_=function(t,e,n){return function(a,o){var i=o().todolists.find((function(t){return t.id===n})).tasks.find((function(e){return e.id===t}));y(Object(E.a)({},i,{},e)).then((function(o){a(function(t,e,n){return{type:V,taskId:t,obj:e,todolistId:n}}(t,e,n))}))}},P=function(t){return function(e){I(t).then((function(n){e(function(t){return{type:D,todolistId:t}}(t))}))}},U=function(t,e){return function(n){w(t).then((function(a){n(function(t,e){return{type:F,taskId:t,todolistId:e}}(t,e))}))}},x=function(t,e){return function(n){j(t,e).then((function(t){var a=t.data.data.item;n(function(t,e){return{type:M,newTask:t,todolistId:e}}(a,e))}))}},B=function(t){return function(e){A(t).then((function(n){var a=n.data.items;e(function(t,e){return{type:R,tasks:t,todolistId:e}}(a,t))}))}},J=function(t){return function(e){C(t).then((function(t){var n=t.data.data.item;e({type:L,newTodolist:n})}))}},W=function(){return function(t){S().then((function(e){var n;t((n=e.data,{type:H,todolists:n}))}))}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case R:return Object(E.a)({},t,{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(E.a)({},t,{tasks:e.tasks})}))});case H:return Object(E.a)({},t,{todolists:e.todolists.map((function(t){return Object(E.a)({},t,{tasks:[]})}))});case L:return Object(E.a)({},t,{todolists:[].concat(Object(b.a)(t.todolists),[e.newTodolist])});case D:return Object(E.a)({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});case"TodoList/Reducer/UPDATE_TODOLIST_TITLE":return Object(E.a)({},t,{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(E.a)({},t,{title:e.title})}))});case F:return Object(E.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(E.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case M:return Object(E.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(E.a)({},t,{tasks:[].concat(Object(b.a)(t.tasks),[e.newTask])}):t}))});case V:return Object(E.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(E.a)({},t,{tasks:t.tasks.map((function(t){return t.id!==e.taskId?t:Object(E.a)({},t,{},e.obj)}))}):t}))});default:return t}},$=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={filterValue:"All"},n.saveState=function(){var t=JSON.stringify(n.state);localStorage.setItem("our-state-"+n.props.id,t)},n.restoreState=function(){n.props.setTasks(n.props.id)},n.addTask=function(t){n.props.addTask(t,n.props.id)},n.changeFilter=function(t){n.setState({filterValue:t},(function(){n.saveState()}))},n.changeTask=function(t,e){n.props.updateTask(t,e,n.props.id)},n.changeStatus=function(t,e){n.changeTask(t,{status:e})},n.changeTitle=function(t,e){n.changeTask(t,{title:e})},n.deleteTodolist=function(){n.props.deleteTodolist(n.props.id)},n.deleteTask=function(t){n.props.deleteTask(t,n.props.id)},n.updateTitle=function(t){n.props.updateTodolistTitle(t,n.props.id)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"todoListTitle"},o.a.createElement("main",{className:"todo-list"},o.a.createElement(h,{title:n.props.title,onDelete:n.deleteTodolist,updateTitle:n.updateTitle}),o.a.createElement(T,{addItem:n.addTask,placeholder:"New task"})),o.a.createElement("section",{className:"section-tasks"},o.a.createElement(k,{changeFilter:n.changeFilter,filterValue:n.state.filterValue}),o.a.createElement(m,{changeStatus:n.changeStatus,changeTitle:n.changeTitle,deleteTask:n.deleteTask,tasks:e.filter((function(t){return"All"===n.state.filterValue||("Active"===n.state.filterValue?0===t.status:"Completed"===n.state.filterValue?2===t.status:void 0)}))})))},n.newTasksTitileRef=o.a.createRef(),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),q=Object(v.b)(null,(function(t){return{addTask:function(e,n){t(x(e,n))},setTasks:function(e){t(B(e))},updateTask:function(e,n,a){var o=_(e,n,a);t(o)},deleteTodolist:function(e){var n=P(e);t(n)},deleteTask:function(e,n){var a=U(e,n);t(a)},updateTodolistTitle:function(e,n){var a=function(t,e){return function(n){N(t,e).then((function(a){n(function(t,e){return{type:"TodoList/Reducer/UPDATE_TODOLIST_TITLE",title:t,todolistId:e}}(t,e))}))}}(e,n);t(a)}}}))($),z=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).addTodoList=function(t){n.props.addTodolist(t)},n.restoreState=function(){n.props.loadTodolists()},n.render=function(){var t=n.props.todolists.map((function(t){return o.a.createElement(q,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement(T,{addItem:n.addTodoList,placeholder:"New title task"})),o.a.createElement("div",{className:"todo-list-task"},t))},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),G=Object(v.b)((function(t){return{todolists:t.todolists}}),(function(t){return{loadTodolists:function(){t(W())},addTodolist:function(e){var n=J(e);t(n)}}}))(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=n(29),X=n(11),Z=Object(X.c)(Y,Object(X.a)(Q.a));s.a.render(o.a.createElement(v.a,{store:Z},o.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},8:function(t,e,n){}},[[30,1,2]]]);
//# sourceMappingURL=main.6c1b2f52.chunk.js.map